<div class="search" (click)="closeAll()">
  <div>
    <h1>Inscription Ã  une session de formation</h1>
    <div class="search-container">
      <input type="text" placeholder="Rechercher une formation" [(ngModel)]="selectedTraining" (focus)="openTraining = true" (click)="blockClose($event)" />
      <svg width="18" height="18" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
        <path d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z" />
      </svg>
      <ul class="select" *ngIf="openTraining">
        <ng-container *ngFor="let training of (trainings$ | async)">
          <li *ngIf="filterTrainings(training)" (click)="selectTraining(training.nom)">
            {{ training.nom }}
          </li>
        </ng-container>
      </ul>
    </div>
    <div class="search-container" *ngIf="cities.length > 0">
      <input type="text" placeholder="Choisissez votre ville" [(ngModel)]="selectedCity" (focus)="openCity = true" (click)="blockClose($event)" />
      <svg width="18" height="18" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
        <path d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z" />
      </svg>
      <ul class="select" *ngIf="openCity">
        <ng-container *ngFor="let city of cities">
          <li *ngIf="filterCities(city)" (click)="selectCity(city)">
            {{ city }}
          </li>
        </ng-container>
      </ul>
    </div>
    <div class="search-container" *ngIf="sessions.length > 0">
      <input type="text" placeholder="Choisissez votre date" [(ngModel)]="selectedSession" (focus)="openSession = true" (click)="blockClose($event)" />
      <svg width="18" height="18" viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg">
        <path d="M1216 832q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z" />
      </svg>
      <ul class="select" *ngIf="openSession">
        <ng-container *ngFor="let session of sessions">
          <li *ngIf="filterSessions(session)" (click)="selectSession(session)">
            {{ formatDate(session.dateDebut, session.dateFin) }}
          </li>
        </ng-container>
      </ul>
    </div>
  </div>
  <img src="assets/Icone IT gris claire.svg" alt="" />
</div>
